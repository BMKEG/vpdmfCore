<ViewDefinition Name="TractTracingHistology" Type="Data">
	<Primitives>
		<PrimitiveDefinition Name="TractTracingHistology" primaryFlag="TRUE">
			<Classes>
            	<Class Name="SpatialPrimitive" primaryFlag="TRUE"/>
                <Class Name="TransportedLabelingPattern"/>
			</Classes>
			<triplets>
                <triplet>TransportedLabelingPattern->expt=TractTracingExperimentLU|TractTracingExperiment</triplet>
                <triplet>TransportedLabelingPattern->labelType=VolumeType|CV</triplet>
                <triplet>SpatialPrimitive->spType=SpatialPrimitiveType|CV</triplet>
                <triplet>TransportedLabelingPattern->labeledArea=labeledAtlasVolume|labeledAtlasVolume</triplet>
			</triplets>
        	<FormDesign>
                <Control Type="Label" Pos="1" Label="Experiment" Size="40" attributeAddress="]TractTracingExperimentLU|TractTracingExperiment.name"/>
				<Control Type="TextInput" Pos="2" Label="Labeling Site Id" Size="40" attributeAddress="]TractTracingHistology|SpatialPrimitive.name"/>
				<Control Type="TextRegion" Pos="3" Label="Description" Height="20" Width="40" attributeAddress="]TractTracingHistology|TransportedLabelingPattern.description"/>
				<Control Type="Lookup" Pos="4" Label="Labeling Type" lookupView="VolumeType" attributeAddress="]VolumeType|CV.name"/>
				<GridArray Pos="5" Label="Covered Atlas Area" attributeAddress="]labeledAtlasVolume">
					<Control Type="Lookup" Pos="5.1" Label="Atlas Volume" lookupView="LabeledAtlasVolumeLU" attributeAddress="]LabeledAtlasVolumeLU|ViewTable.indexString"/>
					<Control Type="Lookup" Pos="5.2" Label="Pattern" lookupView="PatternRelation" attributeAddress="]PatternRelation|CV.indexString"/>
					<Control Type="Lookup" Pos="5.3" Label="Density" lookupView="LabelingDensityMeasurement" attributeAddress="]LabelingDensityMeasurement|LookupDatum.indexString"/>
					<Control Type="Lookup" Pos="5.4" Label="Topography" lookupView="TopographyRelation" attributeAddress="]TopographyRelation|CV.indexString"/>
					<Control Type="Lookup" Pos="5.5" Label="Ipsilateral/Contralateral" lookupView="IpsiContraRelation" attributeAddress="]IpsiContraRelation|CV.indexString"/>
				</GridArray>
			</FormDesign>
		</PrimitiveDefinition>
	    	<PrimitiveDefinition Editable="0" Nullable="1" lookupView="TractTracingExperimentLU"/>
        	<PrimitiveDefinition Editable="1" lookupView="LabelingDensityMeasurement"/>
	    	<PrimitiveDefinition Editable="1" lookupView="VolumeType"/>
        	<PrimitiveDefinition Editable="0" Name="LabeledAtlasVolumeLU" lookupView="AtlasVolumeLU"/>
	    	<PrimitiveDefinition Editable="0" lookupView="PatternRelation"/>
        	<PrimitiveDefinition Editable="0" lookupView="TopographyRelation"/>
        	<PrimitiveDefinition Editable="0" lookupView="IpsiContraRelation"/>
	    	<PrimitiveDefinition Name="labeledAtlasVolume">
        		<Classes>
        			<Class Name="labeledAtlasVolume" primaryFlag="TRUE"/>
            		</Classes>
			<triplets>
        		<triplet>labeledAtlasVolume->labeledAtlasVolume=LabeledAtlasVolumeLU|AtlasVolume</triplet>
                <triplet>labeledAtlasVolume->pattern=PatternRelation|CV</triplet>
                <triplet>labeledAtlasVolume->density=LabelingDensityMeasurement|LookupDatum</triplet>
      	        <triplet>labeledAtlasVolume->topography=TopographyRelation|CV</triplet>
      	        <triplet>labeledAtlasVolume->ipsicontra=IpsiContraRelation|CV</triplet>
			</triplets>
		</PrimitiveDefinition>
        	<PrimitiveDefinition Editable="0" Nullable="1" lookupView="SpatialPrimitiveType">
        		<Conditions>
	            		<Condition>|CV.context='SpatialPrimitive.SpatialPrimitiveType'</Condition>
        	        	<Condition>|CV.name='Data Map'</Condition>
	        	</Conditions>
        </PrimitiveDefinition>
	</Primitives>
	<Index Format="Tract Tracing Labeling: $1$, Type: $2$, Density: $3$"/>
	<MachineIndex Format="Tract Tracing Labeling: $1$, Type: $2$, Density: $3$"/>
	<IndexElements>
		<IndexElement Pos="1" attributeAddress="]TractTracingHistology|SpatialPrimitive.name"/>
		<IndexElement Pos="2" attributeAddress="]VolumeType|CV.name"/>
		<IndexElement Pos="3" attributeAddress="]LabelingDensityMeasurement|LookupDatum.indexString"/>
	</IndexElements>
    <Dependencies>
		<Dependency Name="TractTracingExperiment"/>
	</Dependencies>
    <Parent Name="DataMap"/>
</ViewDefinition>
